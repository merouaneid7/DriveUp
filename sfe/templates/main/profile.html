{% extends 'admdashnav.html' %}
{% load static tailwind_tags %}
<head>
          {% tailwind_css %}
</head>
{% block content %}

<div class="px-4 bg-white block sm:flex items-center justify-between  border-gray-200 lg:mt-1.5 pt-20 ">
          <div class="w-full mb-1">
              <div class="mb-10">
                  {% include "msg/msg.html" %}
                  <h1 class="text-xl font-semibold text-gray-900 sm:text-2xl ">Profile</h1>
              </div>  
</div>     
</div>



          
  <!-- card body -->
  <div class="px-4 pt-9 flex-auto min-h-[70px] pb-0 ">
          <div class="flex flex-wrap mb-6 xl:flex-nowrap ">
                  
            <div class="mb-5 mr-5 ">
              <div class="relative inline-block shrink-0 rounded-2xl ">
           
                 <label for="fileInput" class="cursor-pointer relative"> 
                <img class="inline-block shrink-0 rounded-2xl w-[80px] h-[80px] lg:w-[160px] lg:h-[160px]" src="{{user.user_otherfields.profile_image.url}}" alt="image" />
                <span class="absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 opacity-0 transition-opacity duration-300 hover:opacity-100 text-white px-2 py-1 rounded-md ">
                    <svg xmlns="http://www.w3.org/2000/svg" class="w-4 h-4 inline-block" viewBox="0 0 512 512"><!--!Font Awesome Free 6.5.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free Copyright 2024 Fonticons, Inc.--><path fill="#ffffff" d="M471.6 21.7c-21.9-21.9-57.3-21.9-79.2 0L362.3 51.7l97.9 97.9 30.1-30.1c21.9-21.9 21.9-57.3 0-79.2L471.6 21.7zm-299.2 220c-6.1 6.1-10.8 13.6-13.5 21.9l-29.6 88.8c-2.9 8.6-.6 18.1 5.8 24.6s15.9 8.7 24.6 5.8l88.8-29.6c8.2-2.7 15.7-7.4 21.9-13.5L437.7 172.3 339.7 74.3 172.4 241.7zM96 64C43 64 0 107 0 160V416c0 53 43 96 96 96H352c53 0 96-43 96-96V320c0-17.7-14.3-32-32-32s-32 14.3-32 32v96c0 17.7-14.3 32-32 32H96c-17.7 0-32-14.3-32-32V160c0-17.7 14.3-32 32-32h96c17.7 0 32-14.3 32-32s-14.3-32-32-32H96z"/></svg>
                    <p class="inline-block ">Edit</p>
                </span>
                
                </label>  
                <input name="image" hidden type="file" id="fileInput">
                 
                <div class="group/tooltip relative">
                    
                    {% if user.is_active is True %}
                    <span class="w-[15px] h-[15px] absolute bg-success rounded-full bottom-0 end-0 -mb-1 -mr-2 bg-green-500 border border-green-500"></span>
                    {% else %}
                    <span class="w-[15px] h-[15px] absolute bg-success rounded-full bottom-0 end-0 -mb-1 -mr-2 bg-red-500 border border-red-500"></span>
                    {% endif %}
          
          </div>
          
              </div>
              
             
            </div>
            
            <div class="grow">
              <div class="flex flex-wrap items-start justify-between mb-2 ">
                <div class="flex flex-col ">
                  <div class="flex items-center mb-2">
                    <a class="text-black hover:text-primary transition-colors duration-200 ease-in-out font-semibold text-[1.5rem] mr-1" > {{user.last_name}} {{user.first_name}} </a>
                  </div>
                  <div class="flex flex-wrap pr-2 mb-2 font-medium">
                    <a class="flex items-center mb-2 mr-5 text-secondary-dark hover:text-primary" >
                              
                              {% if user.is_superuser %}
                              <svg xmlns="http://www.w3.org/2000/svg" class="inline-block w-4 h-4 mx-1.5" viewBox="0 0 448 512"><!--!Font Awesome Free 6.5.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free Copyright 2024 Fonticons, Inc.--><path fill="#000000" d="M224 16c-6.7 0-10.8-2.8-15.5-6.1C201.9 5.4 194 0 176 0c-30.5 0-52 43.7-66 89.4C62.7 98.1 32 112.2 32 128c0 14.3 25 27.1 64.6 35.9c-.4 4-.6 8-.6 12.1c0 17 3.3 33.2 9.3 48H45.4C38 224 32 230 32 237.4c0 1.7 .3 3.4 1 5l38.8 96.9C28.2 371.8 0 423.8 0 482.3C0 498.7 13.3 512 29.7 512H418.3c16.4 0 29.7-13.3 29.7-29.7c0-58.5-28.2-110.4-71.7-143L415 242.4c.6-1.6 1-3.3 1-5c0-7.4-6-13.4-13.4-13.4H342.7c6-14.8 9.3-31 9.3-48c0-4.1-.2-8.1-.6-12.1C391 155.1 416 142.3 416 128c0-15.8-30.7-29.9-78-38.6C324 43.7 302.5 0 272 0c-18 0-25.9 5.4-32.5 9.9c-4.8 3.3-8.8 6.1-15.5 6.1zm56 208H267.6c-16.5 0-31.1-10.6-36.3-26.2c-2.3-7-12.2-7-14.5 0c-5.2 15.6-19.9 26.2-36.3 26.2H168c-22.1 0-40-17.9-40-40V169.6c28.2 4.1 61 6.4 96 6.4s67.8-2.3 96-6.4V184c0 22.1-17.9 40-40 40zm-88 96l16 32L176 480 128 288l64 32zm128-32L272 480 240 352l16-32 64-32z"/></svg>
                              {{user.username}}
                              {% else %}
                              <svg xmlns="http://www.w3.org/2000/svg" class="inline-block w-4 h-4 mx-1.5" viewBox="0 0 448 512"><!--!Font Awesome Free 6.5.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free Copyright 2024 Fonticons, Inc.--><path fill="#000000" d="M224 256A128 128 0 1 0 224 0a128 128 0 1 0 0 256zm-45.7 48C79.8 304 0 383.8 0 482.3C0 498.7 13.3 512 29.7 512H418.3c16.4 0 29.7-13.3 29.7-29.7C448 383.8 368.2 304 269.7 304H178.3z"/></svg> 
                              {{user.username}} 
                              {% endif %}
                                        
                              
                    <a class="flex items-center mb-2 mr-5 text-secondary-dark hover:text-primary" >
                       </a>
                  </div>
                  <div class="flex flex-wrap pr-2 mb-2 font-medium">
                    <a class="flex items-center mb-2 mr-5 text-secondary-dark hover:text-primary" href="javascript:void(0)">
                      <span class="mr-1">
                              <svg class="w-4 h-4 mx-1.5" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--!Font Awesome Free 6.5.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free Copyright 2024 Fonticons, Inc.--><path fill="#000000" d="M48 64C21.5 64 0 85.5 0 112c0 15.1 7.1 29.3 19.2 38.4L236.8 313.6c11.4 8.5 27 8.5 38.4 0L492.8 150.4c12.1-9.1 19.2-23.3 19.2-38.4c0-26.5-21.5-48-48-48H48zM0 176V384c0 35.3 28.7 64 64 64H448c35.3 0 64-28.7 64-64V176L294.4 339.2c-22.8 17.1-54 17.1-76.8 0L0 176z"/></svg>
                    </span> {{user.email}} </a>
                   
                  </div>
                  <div class="flex flex-wrap pr-2 mb-2 font-medium">
                    <a class="flex items-center mb-2 mr-5 text-secondary-dark hover:text-primary" href="javascript:void(0)">
                      <span class="mr-1">
                      <svg class="w-4 h-4 mx-1.5" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 576 512"><!--!Font Awesome Free 6.5.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free Copyright 2024 Fonticons, Inc.--><path fill="#000000" d="M64 32C28.7 32 0 60.7 0 96V416c0 35.3 28.7 64 64 64H512c35.3 0 64-28.7 64-64V96c0-35.3-28.7-64-64-64H64zm80 256h64c44.2 0 80 35.8 80 80c0 8.8-7.2 16-16 16H80c-8.8 0-16-7.2-16-16c0-44.2 35.8-80 80-80zm-32-96a64 64 0 1 1 128 0 64 64 0 1 1 -128 0zm256-32H496c8.8 0 16 7.2 16 16s-7.2 16-16 16H368c-8.8 0-16-7.2-16-16s7.2-16 16-16zm0 64H496c8.8 0 16 7.2 16 16s-7.2 16-16 16H368c-8.8 0-16-7.2-16-16s7.2-16 16-16zm0 64H496c8.8 0 16 7.2 16 16s-7.2 16-16 16H368c-8.8 0-16-7.2-16-16s7.2-16 16-16z"/></svg>
                      </span> {{user.user_otherfields.cni}} </a>
                  </div>
                </div>
                <div>
                  <div class="mr-56 bg-gray-50 rounded-lg py-8 px-12">
                    
                            <form method="POST" action="{% url 'Edit_user' user_id=user.id %}">
                                {% csrf_token %}
                                <div class="grid grid-cols-2 gap-4 w-full">
                                    <div class="col">
                                        <div class="form-group mb-4">
                                            <label class="block mb-2 text-sm font-medium text-gray-900">First Name</label>
                                            <input type="text"
                                                class="w-full bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg  block p-2.5"
                                                placeholder="{{user.first_name}}" name="first_name" id="first_name">
                                        </div>
                                    </div>
                                    <div class="col">
                                        <div class="form-group mb-4">
                                            <label class="block mb-2 text-sm font-medium text-gray-900">Last Name</label>
                                            <input type="text"
                                                class="w-full bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg  block p-2.5"
                                                placeholder="{{user.last_name}}" name="last_name" id="last_name">
                                        </div>
                                    </div>
                                    <div class="col-span-2">
                                        <div class="form-group mb-4">
                                            <label class="block mb-2 text-sm font-medium text-gray-900">CNI</label>
                                            <input type="text"
                                                class="w-full bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg  block p-2.5"
                                                placeholder="{{user.user_otherfields.cni}} " name="cni" >
                                        </div>
                                    </div>
                                    <div class="col">
                                        <div class="form-group mb-4">
                                            <label class="block mb-2 text-sm font-medium text-gray-900">Nouveau mot de passe</label>
                                            <input type="password"
                                                class="w-full bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg  block p-2.5"
                                                placeholder="*****" name="password" id="password">
                                        </div>
                                    </div>
                                    <!--<div class="col">
                                        <div class="form-group mb-4">
                                            <label class="block mb-2 text-sm font-medium text-gray-900">Confimer le Mdp</label>
                                            <input type="password"
                                                class="w-full bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg  block p-2.5"
                                                placeholder="*****" name="c_password">
                                        </div>
                                    </div>--> 
                                </div>
                                <button type="submit"
                                    class="w-96 h-15 text-white bg-gradient-to-br bg-gray-900   font-medium rounded-lg text-sm px-5 py-2.5 text-center me-2 mb-2">Update
                                    Profile</button>
                            </form>
                
                        </div>
                  </div>
              </div>
            </div>
          </div>
        </div>
      </div>
      
      {% endblock %}